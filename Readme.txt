Si tmp est un pointeur vers une structure, tu dois utiliser: tmp->val.

Si tmp est une structure (non pointeur), tu utiliseras: tmp.val.